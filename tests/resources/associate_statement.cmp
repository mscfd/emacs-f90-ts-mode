(:indentation
"subroutine sub()

     associate(x => y)
     end associate

     associate(expr => sqrt(p**2/4.0 - q), &
               result => arr(5))
          points: associate(p &
                            => self%points_active, &
                            q &
                            => self%points_inactive &
                           )
               ! some output
               print *,p%count, q%count
          end associate points
          ! more output
          print *, expr, result
          ! done
     end associate

     components: associate(matrix_A => this%model_A%mat, &
                           matrix_B => this%model_B%mat, &
                           N => this%model_size)
          outer:do i = 1,N
               inner:do j = 1,N
                    matrix_R(i,j) = matrix_A(i,j) &
                           - matrix_B(i,j)
               end do inner
          end do outer
     end associate components

     associate(test => 1+2, &

               after_empty_line => 3+4)
     end associate

     associate(test => 1+2, &
                          ! comment
               after_comment_line => 3+4)
     end associate

     associate(test => 1+2, &

                    ! comment

               after_empty_and_comment_lines => 3+4)
     end associate

end subroutine sub
"

:font-lock
((1 1 11 font-lock-keyword-face) (1 12 15 font-lock-function-name-face) (1 15 17 f90-ts-font-lock-bracket-face) (3 24 33 font-lock-keyword-face) (3 33 34 f90-ts-font-lock-bracket-face) (3 36 38 f90-ts-font-lock-delimiter-face) (3 40 41 f90-ts-font-lock-bracket-face) (4 47 50 font-lock-keyword-face) (4 51 60 font-lock-keyword-face) (6 67 76 font-lock-keyword-face) (6 76 77 f90-ts-font-lock-bracket-face) (6 82 84 f90-ts-font-lock-delimiter-face) (6 85 89 font-lock-builtin-face) (6 89 90 f90-ts-font-lock-bracket-face) (6 91 93 f90-ts-font-lock-operator-face) (6 93 94 font-lock-number-face) (6 94 95 f90-ts-font-lock-operator-face) (6 95 98 font-lock-number-face) (6 99 100 f90-ts-font-lock-operator-face) (6 102 103 f90-ts-font-lock-bracket-face) (6 103 104 f90-ts-font-lock-delimiter-face) (6 105 106 f90-ts-font-lock-delimiter-face) (7 129 131 f90-ts-font-lock-delimiter-face) (7 135 136 f90-ts-font-lock-bracket-face) (7 136 137 font-lock-number-face) (7 137 139 f90-ts-font-lock-bracket-face) (8 156 157 f90-ts-font-lock-delimiter-face) (8 158 167 font-lock-keyword-face) (8 167 168 f90-ts-font-lock-bracket-face) (8 170 171 f90-ts-font-lock-delimiter-face) (9 200 202 f90-ts-font-lock-delimiter-face) (9 203 207 f90-ts-font-lock-special-var-face) (9 207 208 f90-ts-font-lock-operator-face) (9 221 222 f90-ts-font-lock-delimiter-face) (9 223 224 f90-ts-font-lock-delimiter-face) (10 255 256 f90-ts-font-lock-delimiter-face) (11 285 287 f90-ts-font-lock-delimiter-face) (11 288 292 f90-ts-font-lock-special-var-face) (11 292 293 f90-ts-font-lock-operator-face) (11 309 310 f90-ts-font-lock-delimiter-face) (12 338 339 f90-ts-font-lock-bracket-face) (13 355 368 font-lock-comment-face) (14 384 389 font-lock-builtin-face) (14 391 392 f90-ts-font-lock-delimiter-face) (14 393 394 f90-ts-font-lock-operator-face) (14 399 400 f90-ts-font-lock-delimiter-face) (14 402 403 f90-ts-font-lock-operator-face) (15 419 422 font-lock-keyword-face) (15 423 432 font-lock-keyword-face) (16 450 463 font-lock-comment-face) (17 474 479 font-lock-builtin-face) (17 481 482 f90-ts-font-lock-delimiter-face) (17 487 488 f90-ts-font-lock-delimiter-face) (18 506 512 font-lock-comment-face) (19 518 521 font-lock-keyword-face) (19 522 531 font-lock-keyword-face) (21 548 549 f90-ts-font-lock-delimiter-face) (21 550 559 font-lock-keyword-face) (21 559 560 f90-ts-font-lock-bracket-face) (21 569 571 f90-ts-font-lock-delimiter-face) (21 572 576 f90-ts-font-lock-special-var-face) (21 576 577 f90-ts-font-lock-operator-face) (21 584 585 f90-ts-font-lock-operator-face) (21 588 589 f90-ts-font-lock-delimiter-face) (21 590 591 f90-ts-font-lock-delimiter-face) (22 628 630 f90-ts-font-lock-delimiter-face) (22 631 635 f90-ts-font-lock-special-var-face) (22 635 636 f90-ts-font-lock-operator-face) (22 643 644 f90-ts-font-lock-operator-face) (22 647 648 f90-ts-font-lock-delimiter-face) (22 649 650 f90-ts-font-lock-delimiter-face) (23 680 682 f90-ts-font-lock-delimiter-face) (23 683 687 f90-ts-font-lock-special-var-face) (23 687 688 f90-ts-font-lock-operator-face) (23 698 699 f90-ts-font-lock-bracket-face) (24 715 716 f90-ts-font-lock-delimiter-face) (24 716 718 font-lock-keyword-face) (24 721 722 f90-ts-font-lock-operator-face) (24 723 724 font-lock-number-face) (24 724 725 f90-ts-font-lock-delimiter-face) (25 747 748 f90-ts-font-lock-delimiter-face) (25 748 750 font-lock-keyword-face) (25 753 754 f90-ts-font-lock-operator-face) (25 755 756 font-lock-number-face) (25 756 757 f90-ts-font-lock-delimiter-face) (26 787 788 f90-ts-font-lock-bracket-face) (26 789 790 f90-ts-font-lock-delimiter-face) (26 791 792 f90-ts-font-lock-bracket-face) (26 793 794 f90-ts-font-lock-operator-face) (26 803 804 f90-ts-font-lock-bracket-face) (26 805 806 f90-ts-font-lock-delimiter-face) (26 807 808 f90-ts-font-lock-bracket-face) (26 809 810 f90-ts-font-lock-delimiter-face) (27 838 839 f90-ts-font-lock-operator-face) (27 848 849 f90-ts-font-lock-bracket-face) (27 850 851 f90-ts-font-lock-delimiter-face) (27 852 853 f90-ts-font-lock-bracket-face) (28 869 872 font-lock-keyword-face) (28 873 875 font-lock-keyword-face) (29 892 895 font-lock-keyword-face) (29 896 898 font-lock-keyword-face) (30 910 913 font-lock-keyword-face) (30 914 923 font-lock-keyword-face) (32 941 950 font-lock-keyword-face) (32 950 951 f90-ts-font-lock-bracket-face) (32 956 958 f90-ts-font-lock-delimiter-face) (32 959 960 font-lock-number-face) (32 960 961 f90-ts-font-lock-operator-face) (32 961 962 font-lock-number-face) (32 962 963 f90-ts-font-lock-delimiter-face) (32 964 965 f90-ts-font-lock-delimiter-face) (34 999 1001 f90-ts-font-lock-delimiter-face) (34 1002 1003 font-lock-number-face) (34 1003 1004 f90-ts-font-lock-operator-face) (34 1004 1005 font-lock-number-face) (34 1005 1006 f90-ts-font-lock-bracket-face) (35 1012 1015 font-lock-keyword-face) (35 1016 1025 font-lock-keyword-face) (37 1032 1041 font-lock-keyword-face) (37 1041 1042 f90-ts-font-lock-bracket-face) (37 1047 1049 f90-ts-font-lock-delimiter-face) (37 1050 1051 font-lock-number-face) (37 1051 1052 f90-ts-font-lock-operator-face) (37 1052 1053 font-lock-number-face) (37 1053 1054 f90-ts-font-lock-delimiter-face) (37 1055 1056 f90-ts-font-lock-delimiter-face) (38 1083 1092 font-lock-comment-face) (39 1127 1129 f90-ts-font-lock-delimiter-face) (39 1130 1131 font-lock-number-face) (39 1131 1132 f90-ts-font-lock-operator-face) (39 1132 1133 font-lock-number-face) (39 1133 1134 f90-ts-font-lock-bracket-face) (40 1140 1143 font-lock-keyword-face) (40 1144 1153 font-lock-keyword-face) (42 1160 1169 font-lock-keyword-face) (42 1169 1170 f90-ts-font-lock-bracket-face) (42 1175 1177 f90-ts-font-lock-delimiter-face) (42 1178 1179 font-lock-number-face) (42 1179 1180 f90-ts-font-lock-operator-face) (42 1180 1181 font-lock-number-face) (42 1181 1182 f90-ts-font-lock-delimiter-face) (42 1183 1184 f90-ts-font-lock-delimiter-face) (44 1206 1215 font-lock-comment-face) (46 1262 1264 f90-ts-font-lock-delimiter-face) (46 1265 1266 font-lock-number-face) (46 1266 1267 f90-ts-font-lock-operator-face) (46 1267 1268 font-lock-number-face) (46 1268 1269 f90-ts-font-lock-bracket-face) (47 1275 1278 font-lock-keyword-face) (47 1279 1288 font-lock-keyword-face) (49 1290 1293 font-lock-keyword-face) (49 1294 1304 font-lock-keyword-face) (49 1305 1308 font-lock-function-name-face))

:tree
"(translation_unit (subroutine (subroutine_statement name: (name)) (associate_statement (association_list (association name: (identifier) selector: (identifier))) (end_associate_statement)) (associate_statement (association_list (association name: (identifier) selector: (call_expression (identifier) (argument_list (math_expression left: (math_expression left: (math_expression left: (identifier) right: (number_literal)) right: (number_literal)) right: (identifier))))) (association name: (identifier) selector: (call_expression (identifier) (argument_list (number_literal))))) (associate_statement (block_label_start_expression) (association_list (association name: (identifier) selector: (derived_type_member_expression (identifier) (type_member))) (association name: (identifier) selector: (derived_type_member_expression (identifier) (type_member)))) (comment) (print_statement (format_identifier) (output_item_list (derived_type_member_expression (identifier) (type_member)) (derived_type_member_expression (identifier) (type_member)))) (end_associate_statement (block_label))) (comment) (print_statement (format_identifier) (output_item_list (identifier) (identifier))) (comment) (end_associate_statement)) (associate_statement (block_label_start_expression) (association_list (association name: (identifier) selector: (derived_type_member_expression (derived_type_member_expression (identifier) (type_member)) (type_member))) (association name: (identifier) selector: (derived_type_member_expression (derived_type_member_expression (identifier) (type_member)) (type_member))) (association name: (identifier) selector: (derived_type_member_expression (identifier) (type_member)))) (do_loop (block_label_start_expression) (do_statement (loop_control_expression (identifier) (number_literal) (identifier))) (do_loop (block_label_start_expression) (do_statement (loop_control_expression (identifier) (number_literal) (identifier))) (assignment_statement left: (call_expression (identifier) (argument_list (identifier) (identifier))) right: (math_expression left: (call_expression (identifier) (argument_list (identifier) (identifier))) right: (call_expression (identifier) (argument_list (identifier) (identifier))))) (end_do_loop_statement (block_label))) (end_do_loop_statement (block_label))) (end_associate_statement (block_label))) (associate_statement (association_list (association name: (identifier) selector: (math_expression left: (number_literal) right: (number_literal))) (association name: (identifier) selector: (math_expression left: (number_literal) right: (number_literal)))) (end_associate_statement)) (associate_statement (association_list (association name: (identifier) selector: (math_expression left: (number_literal) right: (number_literal))) (comment) (association name: (identifier) selector: (math_expression left: (number_literal) right: (number_literal)))) (end_associate_statement)) (associate_statement (association_list (association name: (identifier) selector: (math_expression left: (number_literal) right: (number_literal))) (comment) (association name: (identifier) selector: (math_expression left: (number_literal) right: (number_literal)))) (end_associate_statement)) (end_subroutine_statement (name))))")
