(:indentation
"function fun_result(x, &
                    y) result(r)
end function fun_result


real function fun_type(x, &
                       y)
end function fun_type

subroutine sub_simple(x, y, z, &
                      a, &
                      ! comment
                            b)
end subroutine sub_simple

module subroutine sub_mod(x, &
                          y)
end subroutine sub_mod


! some fancy continuations
function fun(x1, x2, x3, &
                 x4, x5)&
       result( &
       ! this is my result

       something &
       )
     logical :: something
! arguments
     integer &
            :: x1, &
               x2, &
               ! write some comment here
               x3

! ==========
     call foo(x,& ! first arg

              y, & ! second arg

                  ! comment

              z,&
              u,  & ! fourth arg
              v&
             )

     x &


            = &
            y &  ! comment 1
            + fun&! comment 2
            ( &

            )

     write(*,format_string_for_testing) &       !comment
            ! comment
            val1, val2, val3, & ! comment

            ! some more comment


            ! comment

            final_val

     call algorithm(fun1(a, b), fun2(x, y, &
                                     z, &
                                    ), &
                    fun3(u, &
                         v, &
                         w))


end function fun
"

:font-lock
((1 1 9 font-lock-keyword-face) (1 10 20 font-lock-function-name-face) (1 20 21 f90-ts-font-lock-bracket-face) (1 22 23 f90-ts-font-lock-delimiter-face) (1 24 25 f90-ts-font-lock-delimiter-face) (2 47 48 f90-ts-font-lock-bracket-face) (2 49 55 font-lock-keyword-face) (2 55 56 f90-ts-font-lock-bracket-face) (2 56 57 default) (2 57 58 f90-ts-font-lock-bracket-face) (3 59 62 font-lock-keyword-face) (3 63 71 font-lock-keyword-face) (3 72 82 font-lock-function-name-face) (6 85 89 font-lock-type-face) (6 90 98 font-lock-keyword-face) (6 99 107 font-lock-function-name-face) (6 107 108 f90-ts-font-lock-bracket-face) (6 109 110 f90-ts-font-lock-delimiter-face) (6 111 112 f90-ts-font-lock-delimiter-face) (7 137 138 f90-ts-font-lock-bracket-face) (8 139 142 font-lock-keyword-face) (8 143 151 font-lock-keyword-face) (8 152 160 font-lock-function-name-face) (10 162 172 font-lock-keyword-face) (10 173 183 font-lock-function-name-face) (10 183 184 f90-ts-font-lock-bracket-face) (10 185 186 f90-ts-font-lock-delimiter-face) (10 188 189 f90-ts-font-lock-delimiter-face) (10 191 192 f90-ts-font-lock-delimiter-face) (10 193 194 f90-ts-font-lock-delimiter-face) (11 218 219 f90-ts-font-lock-delimiter-face) (11 220 221 f90-ts-font-lock-delimiter-face) (12 244 253 font-lock-comment-face) (13 283 284 f90-ts-font-lock-bracket-face) (14 285 288 font-lock-keyword-face) (14 289 299 font-lock-keyword-face) (14 300 310 font-lock-function-name-face) (16 312 318 font-lock-keyword-face) (16 319 329 font-lock-keyword-face) (16 330 337 font-lock-function-name-face) (16 337 338 f90-ts-font-lock-bracket-face) (16 339 340 f90-ts-font-lock-delimiter-face) (16 341 342 f90-ts-font-lock-delimiter-face) (17 370 371 f90-ts-font-lock-bracket-face) (18 372 375 font-lock-keyword-face) (18 376 386 font-lock-keyword-face) (18 387 394 font-lock-function-name-face) (21 397 423 font-lock-comment-face) (22 424 432 font-lock-keyword-face) (22 433 436 font-lock-function-name-face) (22 436 437 f90-ts-font-lock-bracket-face) (22 439 440 f90-ts-font-lock-delimiter-face) (22 443 444 f90-ts-font-lock-delimiter-face) (22 447 448 f90-ts-font-lock-delimiter-face) (22 449 450 f90-ts-font-lock-delimiter-face) (23 470 471 f90-ts-font-lock-delimiter-face) (23 474 475 f90-ts-font-lock-bracket-face) (23 475 476 f90-ts-font-lock-delimiter-face) (24 484 490 font-lock-keyword-face) (24 490 491 f90-ts-font-lock-bracket-face) (24 492 493 f90-ts-font-lock-delimiter-face) (25 501 520 font-lock-comment-face) (27 529 538 default) (27 539 540 f90-ts-font-lock-delimiter-face) (28 548 549 f90-ts-font-lock-bracket-face) (29 555 562 font-lock-type-face) (29 563 565 f90-ts-font-lock-delimiter-face) (30 576 587 f90-ts-font-lock-special-comment-face) (31 593 600 font-lock-type-face) (31 601 602 f90-ts-font-lock-delimiter-face) (32 615 617 f90-ts-font-lock-delimiter-face) (32 620 621 f90-ts-font-lock-delimiter-face) (32 622 623 f90-ts-font-lock-delimiter-face) (33 641 642 f90-ts-font-lock-delimiter-face) (33 643 644 f90-ts-font-lock-delimiter-face) (34 660 685 font-lock-comment-face) (37 705 717 f90-ts-font-lock-special-comment-face) (38 723 727 font-lock-keyword-face) (38 728 731 font-lock-function-name-face) (38 731 732 f90-ts-font-lock-bracket-face) (38 733 735 f90-ts-font-lock-delimiter-face) (38 736 747 font-lock-comment-face) (40 764 765 f90-ts-font-lock-delimiter-face) (40 766 767 f90-ts-font-lock-delimiter-face) (40 768 780 font-lock-comment-face) (42 800 809 font-lock-comment-face) (44 826 828 f90-ts-font-lock-delimiter-face) (45 844 845 f90-ts-font-lock-delimiter-face) (45 847 848 f90-ts-font-lock-delimiter-face) (45 849 861 font-lock-comment-face) (46 877 878 f90-ts-font-lock-delimiter-face) (47 892 893 f90-ts-font-lock-bracket-face) (49 902 903 f90-ts-font-lock-delimiter-face) (52 918 919 f90-ts-font-lock-operator-face) (52 920 921 f90-ts-font-lock-delimiter-face) (53 936 937 f90-ts-font-lock-delimiter-face) (53 939 950 font-lock-comment-face) (54 963 964 f90-ts-font-lock-operator-face) (54 968 969 f90-ts-font-lock-delimiter-face) (54 969 980 font-lock-comment-face) (55 993 994 f90-ts-font-lock-bracket-face) (55 995 996 f90-ts-font-lock-delimiter-face) (57 1010 1011 f90-ts-font-lock-bracket-face) (59 1018 1023 font-lock-builtin-face) (59 1023 1024 f90-ts-font-lock-bracket-face) (59 1025 1026 f90-ts-font-lock-delimiter-face) (59 1051 1052 f90-ts-font-lock-bracket-face) (59 1053 1054 f90-ts-font-lock-delimiter-face) (59 1061 1069 font-lock-comment-face) (60 1082 1091 font-lock-comment-face) (61 1108 1109 f90-ts-font-lock-delimiter-face) (61 1114 1115 f90-ts-font-lock-delimiter-face) (61 1120 1121 f90-ts-font-lock-delimiter-face) (61 1122 1123 f90-ts-font-lock-delimiter-face) (61 1124 1133 font-lock-comment-face) (63 1147 1166 font-lock-comment-face) (66 1181 1190 font-lock-comment-face) (70 1220 1224 font-lock-keyword-face) (70 1225 1234 font-lock-function-name-face) (70 1234 1235 f90-ts-font-lock-bracket-face) (70 1239 1240 f90-ts-font-lock-bracket-face) (70 1241 1242 f90-ts-font-lock-delimiter-face) (70 1244 1245 f90-ts-font-lock-bracket-face) (70 1245 1246 f90-ts-font-lock-delimiter-face) (70 1251 1252 f90-ts-font-lock-bracket-face) (70 1253 1254 f90-ts-font-lock-delimiter-face) (70 1256 1257 f90-ts-font-lock-delimiter-face) (70 1258 1259 f90-ts-font-lock-delimiter-face) (71 1298 1299 f90-ts-font-lock-delimiter-face) (71 1300 1301 f90-ts-font-lock-delimiter-face) (72 1338 1339 f90-ts-font-lock-bracket-face) (72 1339 1340 f90-ts-font-lock-delimiter-face) (72 1341 1342 f90-ts-font-lock-delimiter-face) (73 1367 1368 f90-ts-font-lock-bracket-face) (73 1369 1370 f90-ts-font-lock-delimiter-face) (73 1371 1372 f90-ts-font-lock-delimiter-face) (74 1399 1400 f90-ts-font-lock-delimiter-face) (74 1401 1402 f90-ts-font-lock-delimiter-face) (75 1429 1431 f90-ts-font-lock-bracket-face) (78 1434 1437 font-lock-keyword-face) (78 1438 1446 font-lock-keyword-face) (78 1447 1450 font-lock-function-name-face))

:tree
"(translation_unit (function (function_statement name: (name) parameters: (parameters (identifier) (identifier)) (function_result (identifier))) (end_function_statement (name))) (function (function_statement type: (intrinsic_type) name: (name) parameters: (parameters (identifier) (identifier))) (end_function_statement (name))) (subroutine (subroutine_statement name: (name) parameters: (parameters (identifier) (identifier) (identifier) (identifier) (comment) (identifier))) (end_subroutine_statement (name))) (subroutine (subroutine_statement (procedure_qualifier) name: (name) parameters: (parameters (identifier) (identifier))) (end_subroutine_statement (name))) (comment) (function (function_statement name: (name) parameters: (parameters (identifier) (identifier) (identifier) (identifier) (identifier)) (function_result (comment) (identifier))) (variable_declaration type: (intrinsic_type) declarator: (identifier)) (comment) (variable_declaration type: (intrinsic_type) declarator: (identifier) declarator: (identifier) (comment) declarator: (identifier)) (comment) (subroutine_call subroutine: (identifier) (argument_list (identifier) (comment) (identifier) (comment) (comment) (identifier) (identifier) (comment) (identifier))) (assignment_statement left: (identifier) right: (math_expression left: (identifier) (comment) right: (call_expression (identifier) (comment) (argument_list)))) (write_statement (unit_identifier) (format_identifier (identifier)) (comment) (comment) (output_item_list (identifier) (identifier) (identifier) (comment) (comment) (comment) (identifier))) (subroutine_call subroutine: (identifier) (argument_list (call_expression (identifier) (argument_list (identifier) (identifier))) (call_expression (identifier) (argument_list (identifier) (identifier) (identifier) (assumed_size (MISSING \"*\")))) (call_expression (identifier) (argument_list (identifier) (identifier) (identifier))))) (end_function_statement (name))))")
